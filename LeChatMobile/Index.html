<!DOCTYPE html>
<html>
<head>
<title>LeChatMobile</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script
	src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
	<script type="text/javascript">

	$.support.cors = true;
	var serviceUrl = 'http://sifsv-80018.hsr.ch/Service/ChatService.asmx';
	$(document).bind('pageinit', function(){

		$.ajax({
			url: serviceUrl + '/GetChats',
			type: "POST",
			dataType: "json",
			success: listChats,
			error: function(response){
				alert("error");
				console.log(response);
			},
			contentType: "application/json; charset=utf-8"
		});

		function listChats(object, status)
		{
			alert(object);
		}
	});
	</script>
</head>
<body>

	<div data-role="page" id="lobby">

		<div data-role="header">
			<h2>LeChatMobile</h2>
		</div>
		<!-- /header -->

		<div data-role="content">
			<h3>Lobby</h3>
			<fieldset data-role="controlgroup">
				<label for="username"> Please enter your name: </label> 
				<input name="" id="username" placeholder="username" type="text" />
			</fieldset>
			<ul data-role="listview" data-inset="true" id="channel-list">
				<li data-role="list-divider" role="heading">Channels</li>
				<li>
					<a href="#channel" data-transition="slide">
						Sample Channel
						<span class="ui-li-count">
						12
						</span>
					</a>
				</li>
			</ul>
			<a href="#create-channel" data-role="button">Create new Channel</a>
		</div>
		<!-- /content -->

		<div data-role="footer">
			<h4>Copyright &copy; 2012 HSR</h4>
		</div>
		<!-- /footer -->
	</div>
	<!-- /page -->
	
	<div data-role="page" id="channel">

		<div data-role="header">
			<h2>LeChatMobile</h2>
			<a href="#lobby" data-role="button" data-rel="back" data-icon="arrow-l" data-iconpos="left" class="ui-btn-left">back</a>
		</div>
		<!-- /header -->

		<div data-role="content">
			<h3>Channel XXX</h3>
			<div data-role="collapsible-set">
				<div data-role="collapsible" data-content-theme="c">
					<h3>Members online:</h3>
					<p>Sample User</p>
					<p>Sample User</p>
				</div>
			</div>
			<fieldset data-role="controlgroup">
				<label for="message"> Enter your message: </label> 
				<input name="" id="message" placeholder="message" type="text" />
			</fieldset>
			<a href="" data-role="button">Send</a>
			<fieldset data-role="controlgroup">
				<label for=messages> Messages: </label> 
				<textarea name="" id="messages" readonly="readonly">
				SampleUser: foo!
				SampleUser: foo!
				SampleUser: foo!
				SampleUser: foo!
				</textarea>
			</fieldset>
			<a href="" data-role="button">Leave Channel</a>
		</div>
		<!-- /content -->

		<div data-role="footer">
			<h4>Copyright &copy; 2012 HSR</h4>
		</div>
		<!-- /footer -->
	</div>
	<!-- /page -->
	
	<div data-role="page" id="create-channel">

		<div data-role="header">
			<h2>LeChatMobile</h2>
			<a href="#lobby" data-role="button" data-rel="back" data-icon="arrow-l" data-iconpos="left" class="ui-btn-left">back</a>
		</div>
		<!-- /header -->

		<div data-role="content">
			<h4>Create a new Channel</h4>
			<fieldset data-role="controlgroup">
				<label for="message"> Enter channel name: </label> 
				<input name="" id="message" placeholder="Channel" type="text" />
			</fieldset>
			<a href="" data-role="button" data-icon="arrow-r" data-iconpos="right">Create channel</a>
			<a href="#lobby" data-role="button" data-icon="arrow-l" data-iconpos="right">Cancel</a>
		</div>
		<!-- /content -->

		<div data-role="footer">
			<h4>Copyright &copy; 2012 HSR</h4>
		</div>
		<!-- /footer -->
	</div>
	<!-- /page -->
</body>
</html>
